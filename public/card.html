<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#B8906A">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Conex√£o Arq">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Cart√£o do Filiado ‚Äì Conex√£o Arq Serra</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/card.css">
</head>
<body class="card-body">

  <!-- Loading state -->
  <div id="loading" class="loading-screen">
    <div class="spinner"></div>
    <p>Carregando cart√£o...</p>
  </div>

  <!-- Error state -->
  <div id="error" class="error-screen" style="display:none">
    <div class="error-icon">‚ö†</div>
    <h2>Cart√£o n√£o encontrado</h2>
    <p>O link pode estar inv√°lido ou expirado.</p>
  </div>

  <!-- Card container -->
  <div id="card-container" class="card-container" style="display:none">

    <!-- Install banner -->
    <div id="install-banner" class="install-banner" style="display:none">
      <span>üì≤ Adicione √† tela inicial para acesso r√°pido</span>
      <button id="install-btn" class="install-btn-cta">Instalar</button>
      <button id="install-close" class="install-close">‚úï</button>
    </div>

    <!-- Main Card -->
    <div class="card-wrapper">
      <div class="card" id="member-card">
        <!-- Card Front -->
        <div class="card-face card-front">
          <div class="card-bg-texture"></div>

          <!-- Top bar -->
          <div class="card-header">
            <div class="logo-area">
              <div class="logo-circle">
                <svg viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" width="48" height="48">
                  <circle cx="40" cy="40" r="38" stroke="#f5e6d3" stroke-width="1.5"/>
                  <text x="50%" y="52%" dominant-baseline="middle" text-anchor="middle" 
                        font-family="Georgia, serif" font-size="28" fill="#f5e6d3" font-style="italic">ca</text>
                  <circle cx="56" cy="52" r="4" fill="#f5e6d3" opacity="0.6"/>
                </svg>
              </div>
              <div class="logo-text">
                <span class="logo-conexao">CONEX√ÉO</span>
                <span class="logo-arq">arq. <em>SERRA</em></span>
              </div>
            </div>
            <div class="card-badge" id="badge-categoria">GOLD</div>
          </div>

          <!-- Photo area -->
          <div class="card-photo-area">
            <div class="photo-frame">
              <img id="member-photo" src="" alt="Foto do filiado" class="member-photo" onerror="this.style.display='none'; document.getElementById('photo-placeholder').style.display='flex'">
              <div id="photo-placeholder" class="photo-placeholder">
                <span>üë§</span>
              </div>
            </div>
          </div>

          <!-- Member info -->
          <div class="card-info">
            <div class="member-name-label">FILIADO</div>
            <div class="member-name" id="member-nome">‚Äì</div>
            <div class="member-details">
              <div class="detail-item">
                <span class="detail-label">N¬∫</span>
                <span class="detail-value" id="member-numero">‚Äì</span>
              </div>
              <div class="detail-sep">|</div>
              <div class="detail-item">
                <span class="detail-label">V√ÅLIDO AT√â</span>
                <span class="detail-value" id="member-validade">‚Äì</span>
              </div>
            </div>
          </div>

          <!-- Card chip decoration -->
          <div class="card-chip">
            <div class="chip-inner"></div>
          </div>

          <!-- Flip hint -->
          <div class="flip-hint" onclick="flipCard()">Ver QR Code ‚Ü∫</div>
        </div>

        <!-- Card Back -->
        <div class="card-face card-back">
          <div class="card-bg-texture"></div>

          <div class="back-header">
            <div class="logo-small">
              <svg viewBox="0 0 50 50" width="30" height="30">
                <circle cx="25" cy="25" r="23" stroke="#f5e6d3" stroke-width="1.2"/>
                <text x="50%" y="53%" dominant-baseline="middle" text-anchor="middle" 
                      font-family="Georgia, serif" font-size="18" fill="#f5e6d3" font-style="italic">ca</text>
              </svg>
            </div>
            <span class="back-title">CONEX√ÉO ARQ SERRA</span>
          </div>

          <div class="qr-section">
            <p class="qr-label">Verifique a autenticidade</p>
            <div class="qr-frame">
              <img id="qr-code-img" src="" alt="QR Code de verifica√ß√£o" class="qr-img">
            </div>
            <p class="qr-sub" id="member-nome-back">‚Äì</p>
            <p class="qr-num" id="member-numero-back">Filiado n¬∫ ‚Äì</p>
          </div>

          <div class="back-footer">
            <p>Este cart√£o √© pessoal e intransfer√≠vel</p>
            <p id="member-since">Membro desde ‚Äì</p>
          </div>

          <!-- Flip hint -->
          <div class="flip-hint" onclick="flipCard()">Voltar ‚Ü∫</div>
        </div>
      </div>
    </div>

    <!-- Status badge -->
    <div class="status-container">
      <div class="status-badge" id="status-badge">
        <span class="status-dot"></span>
        <span id="status-text">ATIVO</span>
      </div>
    </div>

    <!-- Actions -->
    <div class="card-actions">
      <button class="action-btn share-btn" onclick="shareCard()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
          <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
        </svg>
        Compartilhar
      </button>
    </div>

    <p class="footer-note">Conex√£o Arq Serra ¬© 2026</p>
  </div>

  <script src="/js/card.js"></script>
</body>
</html>
